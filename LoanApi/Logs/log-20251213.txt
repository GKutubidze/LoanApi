2025-12-13 19:27:12.089 +04:00 [INF] User profile is available. Using '/home/gkutubidze/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-13 19:27:12.205 +04:00 [INF] Now listening on: http://localhost:5090
2025-12-13 19:27:12.206 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 19:27:12.206 +04:00 [INF] Hosting environment: Development
2025-12-13 19:27:12.206 +04:00 [INF] Content root path: /home/gkutubidze/LoanApi/LoanApi
2025-12-13 19:27:17.522 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/ - null null
2025-12-13 19:27:17.559 +04:00 [WRN] Failed to determine the https port for redirect.
2025-12-13 19:27:17.582 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/ - 404 0 null 61.1305ms
2025-12-13 19:27:17.591 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5090/, Response status code: 404
2025-12-13 19:27:24.551 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2025-12-13 19:27:24.607 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 55.8914ms
2025-12-13 19:27:24.616 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui.css - null null
2025-12-13 19:27:24.618 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-bundle.js - null null
2025-12-13 19:27:24.631 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-13 19:27:24.631 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-13 19:27:24.633 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 14.9846ms
2025-12-13 19:27:24.633 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui.css - 200 152035 text/css 16.3285ms
2025-12-13 19:27:25.039 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-standalone-preset.js - null null
2025-12-13 19:27:25.040 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.js - null null
2025-12-13 19:27:25.040 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.js - 200 null application/javascript;charset=utf-8 0.5651ms
2025-12-13 19:27:25.053 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-13 19:27:25.053 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 13.8872ms
2025-12-13 19:27:26.192 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2025-12-13 19:27:26.306 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.2771ms
2025-12-13 20:05:40.004 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/ - null null
2025-12-13 20:05:40.010 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/ - 404 0 null 5.5632ms
2025-12-13 20:05:40.010 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5090/, Response status code: 404
2025-12-13 20:05:43.078 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2025-12-13 20:05:43.079 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 0.6364ms
2025-12-13 20:05:43.520 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.js - null null
2025-12-13 20:05:43.521 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.js - 200 null application/javascript;charset=utf-8 0.5614ms
2025-12-13 20:05:44.641 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2025-12-13 20:05:44.647 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.6788ms
2025-12-13 21:23:12.985 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/register - application/json 164
2025-12-13 21:23:12.992 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-13 21:23:13.017 +04:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LoanApi.DTOs.UserRegisterDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-13 21:23:13.215 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Register (LoanApi) - Validation state: "Valid"
2025-12-13 21:23:13.220 +04:00 [INF] Attempting to register user: test
2025-12-13 21:23:13.720 +04:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Loan'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-13 21:23:13.720 +04:00 [WRN] No store type was specified for the decimal property 'MonthlyIncome' on entity type 'User'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-13 21:23:14.429 +04:00 [INF] Executed DbCommand (49ms) [Parameters=[@__user_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__user_UserName_0
2025-12-13 21:23:14.465 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__user_Email_0
2025-12-13 21:23:14.851 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Age], [Email], [FirstName], [IsBlocked], [LastName], [MonthlyIncome], [PasswordHash], [Role], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-12-13 21:23:14.879 +04:00 [INF] User registered successfully: test, ID: 1002
2025-12-13 21:23:14.883 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.Register (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1664.4736ms.
2025-12-13 21:23:14.890 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 21:23:14.900 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Register (LoanApi) in 1879.3072ms
2025-12-13 21:23:14.900 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-13 21:23:14.909 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/register - 200 null application/json; charset=utf-8 1923.6401ms
2025-12-13 21:24:45.294 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/login - application/json 49
2025-12-13 21:24:45.296 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-13 21:24:45.303 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoanApi.DTOs.UserLoginDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-13 21:24:45.319 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Login (LoanApi) - Validation state: "Valid"
2025-12-13 21:24:45.321 +04:00 [INF] Login attempt for user: test
2025-12-13 21:24:45.343 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2025-12-13 21:24:45.550 +04:00 [INF] User logged in successfully: test, Role: "User"
2025-12-13 21:24:45.552 +04:00 [INF] Generating JWT token for User ID: 1002
2025-12-13 21:24:45.571 +04:00 [INF] JWT token generated successfully for User ID: 1002
2025-12-13 21:24:45.572 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.Login (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 252.4171ms.
2025-12-13 21:24:45.573 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 21:24:45.575 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Login (LoanApi) in 271.6755ms
2025-12-13 21:24:45.575 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-13 21:24:45.575 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/login - 200 null application/json; charset=utf-8 281.4367ms
2025-12-13 21:39:00.574 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Loan/user - application/json 79
2025-12-13 21:39:00.617 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.CreateLoan (LoanApi)'
2025-12-13 21:39:00.622 +04:00 [INF] Route matched with {action = "CreateLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateLoan(LoanApi.DTOs.LoanCreateDto) on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-13 21:39:00.640 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.CreateLoan (LoanApi) - Validation state: "Valid"
2025-12-13 21:39:00.643 +04:00 [INF] Attempting to create loan for User ID: 1002
2025-12-13 21:39:00.768 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-12-13 21:39:00.818 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Loans] ([Amount], [Currency], [LoanPeriod], [LoanType], [Status], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-12-13 21:39:00.821 +04:00 [INF] Loan created successfully. Loan ID: 1002, User ID: 1002
2025-12-13 21:39:00.821 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.CreateLoan (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.0912ms.
2025-12-13 21:39:00.821 +04:00 [INF] Executing OkObjectResult, writing value of type 'LoanApi.Models.Loan'.
2025-12-13 21:39:00.847 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.CreateLoan (LoanApi) in 224.8504ms
2025-12-13 21:39:00.847 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.CreateLoan (LoanApi)'
2025-12-13 21:39:00.847 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Loan/user - 200 null application/json; charset=utf-8 273.3122ms
2025-12-13 21:41:36.326 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Loan/user/my - null null
2025-12-13 21:41:36.329 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.GetMyLoans (LoanApi)'
2025-12-13 21:41:36.334 +04:00 [INF] Route matched with {action = "GetMyLoans", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyLoans() on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-13 21:41:36.335 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.GetMyLoans (LoanApi) - Validation state: "Valid"
2025-12-13 21:41:36.336 +04:00 [INF] Fetching loans for User ID: 1002
2025-12-13 21:41:36.346 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[Currency], [l].[LoanPeriod], [l].[LoanType], [l].[Status], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[UserId] = @__userId_0
2025-12-13 21:41:36.348 +04:00 [INF] Fetched 1 loans for User ID: 1002
2025-12-13 21:41:36.348 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.GetMyLoans (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.7435ms.
2025-12-13 21:41:36.349 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LoanApi.Models.Loan, LoanApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 21:41:36.349 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.GetMyLoans (LoanApi) in 15.0516ms
2025-12-13 21:41:36.349 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.GetMyLoans (LoanApi)'
2025-12-13 21:41:36.349 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Loan/user/my - 200 null application/json; charset=utf-8 23.7789ms
2025-12-13 21:42:51.000 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5090/api/Loan/user/1002 - application/json 78
2025-12-13 21:42:51.011 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.UpdateLoan (LoanApi)'
2025-12-13 21:42:51.017 +04:00 [INF] Route matched with {action = "UpdateLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateLoan(Int32, LoanApi.DTOs.LoanUpdateDto) on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-13 21:42:51.024 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.UpdateLoan (LoanApi) - Validation state: "Valid"
2025-12-13 21:42:51.025 +04:00 [INF] User 1002 attempting to update Loan 1002
2025-12-13 21:42:51.033 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Amount], [l].[Currency], [l].[LoanPeriod], [l].[LoanType], [l].[Status], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[Id] = @__p_0
2025-12-13 21:42:51.040 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Loans] SET [Amount] = @p0, [LoanPeriod] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-12-13 21:42:51.041 +04:00 [INF] Loan 1002 updated successfully by User 1002
2025-12-13 21:42:51.041 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.UpdateLoan (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.5126ms.
2025-12-13 21:42:51.042 +04:00 [INF] Executing OkObjectResult, writing value of type 'LoanApi.Models.Loan'.
2025-12-13 21:42:51.042 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.UpdateLoan (LoanApi) in 25.1412ms
2025-12-13 21:42:51.042 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.UpdateLoan (LoanApi)'
2025-12-13 21:42:51.042 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5090/api/Loan/user/1002 - 200 null application/json; charset=utf-8 41.9146ms
2025-12-13 21:43:43.428 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5090/api/Loan/user/1002 - null null
2025-12-13 21:43:43.429 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.DeleteLoan (LoanApi)'
2025-12-13 21:43:43.436 +04:00 [INF] Route matched with {action = "DeleteLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteLoan(Int32) on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-13 21:43:43.436 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.DeleteLoan (LoanApi) - Validation state: "Valid"
2025-12-13 21:43:43.438 +04:00 [INF] User 1002 attempting to delete Loan 1002
2025-12-13 21:43:43.442 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Amount], [l].[Currency], [l].[LoanPeriod], [l].[LoanType], [l].[Status], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[Id] = @__p_0
2025-12-13 21:43:43.461 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Loans]
OUTPUT 1
WHERE [Id] = @p0;
2025-12-13 21:43:43.463 +04:00 [INF] Loan 1002 deleted successfully by User 1002
2025-12-13 21:43:43.464 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.DeleteLoan (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.1579ms.
2025-12-13 21:43:43.464 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 21:43:43.464 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.DeleteLoan (LoanApi) in 28.0703ms
2025-12-13 21:43:43.464 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.DeleteLoan (LoanApi)'
2025-12-13 21:43:43.464 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5090/api/Loan/user/1002 - 200 null application/json; charset=utf-8 35.9768ms
2025-12-13 21:44:12.601 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/User/2 - null null
2025-12-13 21:44:12.602 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.GetUser (LoanApi)'
2025-12-13 21:44:12.611 +04:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(Int32) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-13 21:44:12.614 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.GetUser (LoanApi) - Validation state: "Valid"
2025-12-13 21:44:12.616 +04:00 [INF] Fetching user by ID: 2
2025-12-13 21:44:12.618 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-12-13 21:44:12.620 +04:00 [INF] User fetched successfully: 2, user
2025-12-13 21:44:12.621 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.GetUser (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.8655ms.
2025-12-13 21:44:12.621 +04:00 [INF] Executing OkObjectResult, writing value of type 'LoanApi.DTOs.UserResponseDto'.
2025-12-13 21:44:12.625 +04:00 [INF] Executed action LoanApi.Controllers.UserController.GetUser (LoanApi) in 13.6429ms
2025-12-13 21:44:12.625 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.GetUser (LoanApi)'
2025-12-13 21:44:12.625 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/User/2 - 200 null application/json; charset=utf-8 24.4103ms
2025-12-13 21:59:59.999 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/login - application/json 50
2025-12-13 21:59:59.999 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-13 22:00:00.000 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoanApi.DTOs.UserLoginDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-13 22:00:00.001 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Login (LoanApi) - Validation state: "Valid"
2025-12-13 22:00:00.001 +04:00 [INF] Login attempt for user: admin
2025-12-13 22:00:00.099 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2025-12-13 22:00:00.342 +04:00 [INF] User logged in successfully: admin, Role: "Accountant"
2025-12-13 22:00:00.342 +04:00 [INF] Generating JWT token for User ID: 3
2025-12-13 22:00:00.343 +04:00 [INF] JWT token generated successfully for User ID: 3
2025-12-13 22:00:00.344 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.Login (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 342.5655ms.
2025-12-13 22:00:00.344 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 22:00:00.344 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Login (LoanApi) in 344.3747ms
2025-12-13 22:00:00.344 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-13 22:00:00.344 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/login - 200 null application/json; charset=utf-8 345.5112ms
2025-12-13 22:05:27.615 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Loan/accountant/all - null null
2025-12-13 22:05:27.617 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.GetAllLoans (LoanApi)'
2025-12-13 22:05:27.626 +04:00 [INF] Route matched with {action = "GetAllLoans", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-13 22:05:27.627 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.GetAllLoans (LoanApi) - Validation state: "Valid"
2025-12-13 22:05:27.633 +04:00 [INF] Fetching all loans from database
2025-12-13 22:05:27.740 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[Currency], [l].[LoanPeriod], [l].[LoanType], [l].[Status], [l].[UserId], [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Loans] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
2025-12-13 22:05:27.745 +04:00 [INF] Fetched total 1 loans
2025-12-13 22:05:27.746 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.GetAllLoans (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 118.2996ms.
2025-12-13 22:05:27.746 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LoanApi.Models.Loan, LoanApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 22:05:27.746 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.GetAllLoans (LoanApi) in 119.5037ms
2025-12-13 22:05:27.746 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.GetAllLoans (LoanApi)'
2025-12-13 22:05:27.746 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Loan/accountant/all - 200 null application/json; charset=utf-8 130.894ms
2025-12-13 22:43:15.125 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5090/api/Loan/accountant/2 - application/json 77
2025-12-13 22:43:15.136 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.UpdateAnyLoan (LoanApi)'
2025-12-13 22:43:15.158 +04:00 [INF] Route matched with {action = "UpdateAnyLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAnyLoan(Int32, LoanApi.DTOs.LoanUpdateDto) on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-13 22:43:15.164 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.UpdateAnyLoan (LoanApi) - Validation state: "Valid"
2025-12-13 22:43:15.175 +04:00 [INF] Accountant attempting to update Loan 2
2025-12-13 22:43:15.230 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Amount], [l].[Currency], [l].[LoanPeriod], [l].[LoanType], [l].[Status], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[Id] = @__p_0
2025-12-13 22:43:15.236 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Loans] SET [Amount] = @p0, [LoanPeriod] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-12-13 22:43:15.237 +04:00 [INF] Loan 2 updated successfully by Accountant
2025-12-13 22:43:15.237 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.UpdateAnyLoan (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.5909ms.
2025-12-13 22:43:15.237 +04:00 [INF] Executing OkObjectResult, writing value of type 'LoanApi.Models.Loan'.
2025-12-13 22:43:15.238 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.UpdateAnyLoan (LoanApi) in 79.4856ms
2025-12-13 22:43:15.238 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.UpdateAnyLoan (LoanApi)'
2025-12-13 22:43:15.238 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5090/api/Loan/accountant/2 - 200 null application/json; charset=utf-8 113.0427ms
2025-12-13 22:48:11.926 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5090/api/Loan/accountant/2 - null null
2025-12-13 22:48:11.927 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.DeleteAnyLoan (LoanApi)'
2025-12-13 22:48:11.943 +04:00 [INF] Route matched with {action = "DeleteAnyLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAnyLoan(Int32) on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-13 22:48:11.944 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.DeleteAnyLoan (LoanApi) - Validation state: "Valid"
2025-12-13 22:48:11.948 +04:00 [INF] Accountant attempting to delete Loan 2
2025-12-13 22:48:11.953 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Amount], [l].[Currency], [l].[LoanPeriod], [l].[LoanType], [l].[Status], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[Id] = @__p_0
2025-12-13 22:48:11.967 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Loans]
OUTPUT 1
WHERE [Id] = @p0;
2025-12-13 22:48:11.967 +04:00 [INF] Loan 2 deleted successfully by Accountant
2025-12-13 22:48:11.968 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.DeleteAnyLoan (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.9263ms.
2025-12-13 22:48:11.968 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 22:48:11.969 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.DeleteAnyLoan (LoanApi) in 25.9201ms
2025-12-13 22:48:11.969 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.DeleteAnyLoan (LoanApi)'
2025-12-13 22:48:11.969 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5090/api/Loan/accountant/2 - 200 null application/json; charset=utf-8 43.4675ms
2025-12-13 22:49:07.167 +04:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5090/api/User/accountant/2/block - application/json 24
2025-12-13 22:49:07.168 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.BlockUser (LoanApi)'
2025-12-13 22:49:07.177 +04:00 [INF] Route matched with {action = "BlockUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BlockUser(Int32, LoanApi.DTOs.BlockUserDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-13 22:49:07.185 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.BlockUser (LoanApi) - Validation state: "Valid"
2025-12-13 22:49:07.188 +04:00 [INF] Attempting to unblock user: 2
2025-12-13 22:49:07.193 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-12-13 22:49:07.201 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsBlocked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 22:49:07.204 +04:00 [INF] User unblocked successfully: 2, user
2025-12-13 22:49:07.204 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.BlockUser (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.3689ms.
2025-12-13 22:49:07.205 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 22:49:07.205 +04:00 [INF] Executed action LoanApi.Controllers.UserController.BlockUser (LoanApi) in 28.2108ms
2025-12-13 22:49:07.205 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.BlockUser (LoanApi)'
2025-12-13 22:49:07.205 +04:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5090/api/User/accountant/2/block - 200 null application/json; charset=utf-8 38.636ms
