2025-12-09 00:28:30.073 +04:00 [INF] User profile is available. Using '/home/gkutubidze/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-09 00:28:30.175 +04:00 [INF] Now listening on: http://localhost:5090
2025-12-09 00:28:30.176 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-09 00:28:30.176 +04:00 [INF] Hosting environment: Development
2025-12-09 00:28:30.176 +04:00 [INF] Content root path: /home/gkutubidze/LoanApi/LoanApi
2025-12-09 00:28:30.263 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2025-12-09 00:28:30.357 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 91.1823ms
2025-12-09 00:28:30.374 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.js - null null
2025-12-09 00:28:30.376 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.js - 200 null application/javascript;charset=utf-8 1.9014ms
2025-12-09 00:28:31.731 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2025-12-09 00:28:31.830 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.5274ms
2025-12-09 00:28:41.186 +04:00 [INF] Application is shutting down...
2025-12-09 00:33:50.282 +04:00 [INF] User profile is available. Using '/home/gkutubidze/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-09 00:33:50.394 +04:00 [INF] Now listening on: http://localhost:5090
2025-12-09 00:33:50.397 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-09 00:33:50.397 +04:00 [INF] Hosting environment: Development
2025-12-09 00:33:50.397 +04:00 [INF] Content root path: /home/gkutubidze/LoanApi/LoanApi
2025-12-09 00:34:04.098 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/login - application/json 59
2025-12-09 00:34:04.132 +04:00 [WRN] Failed to determine the https port for redirect.
2025-12-09 00:34:04.162 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 00:34:04.176 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoanApi.DTOs.UserLoginDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 00:34:04.320 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Login (LoanApi) - Validation state: "Valid"
2025-12-09 00:34:04.324 +04:00 [INF] Login attempt for user: string
2025-12-09 00:34:04.815 +04:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Loan'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-09 00:34:04.815 +04:00 [WRN] No store type was specified for the decimal property 'MonthlyIncome' on entity type 'User'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-09 00:34:05.464 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2025-12-09 00:34:05.749 +04:00 [WRN] Login failed: Invalid password for user - string
2025-12-09 00:34:05.749 +04:00 [ERR] Error during login for user: string
System.Exception: არასწორი username ან პაროლი
   at LoanApi.Services.UserService.LoginAsync(String username, String password) in /home/gkutubidze/LoanApi/LoanApi/Services/UserService.cs:line 79
2025-12-09 00:34:05.763 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Login (LoanApi) in 1582.4456ms
2025-12-09 00:34:05.766 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 00:34:05.789 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/login - 400 null application/json 1691.8988ms
2025-12-09 00:34:45.980 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/register - application/json 188
2025-12-09 00:34:45.983 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:34:45.991 +04:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LoanApi.DTOs.UserRegisterDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 00:34:46.073 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-09 00:34:46.093 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Register (LoanApi) in 102.0503ms
2025-12-09 00:34:46.093 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:34:46.093 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/register - 400 null application/problem+json; charset=utf-8 113.1115ms
2025-12-09 00:34:54.722 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/register - application/json 198
2025-12-09 00:34:54.726 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:34:54.726 +04:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LoanApi.DTOs.UserRegisterDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 00:34:54.732 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-09 00:34:54.732 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Register (LoanApi) in 5.936ms
2025-12-09 00:34:54.732 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:34:54.732 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/register - 400 null application/problem+json; charset=utf-8 9.91ms
2025-12-09 00:35:04.601 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/register - application/json 200
2025-12-09 00:35:04.601 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:35:04.601 +04:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LoanApi.DTOs.UserRegisterDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 00:35:04.612 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Register (LoanApi) - Validation state: "Valid"
2025-12-09 00:35:04.615 +04:00 [INF] Attempting to register user: string
2025-12-09 00:35:04.640 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__user_UserName_0
2025-12-09 00:35:04.641 +04:00 [WRN] Registration failed: Username string already exists
2025-12-09 00:35:04.641 +04:00 [ERR] Error during user registration: string
System.Exception: Username უკვე არსებობს
   at LoanApi.Services.UserService.RegisterAsync(User user, String password) in /home/gkutubidze/LoanApi/LoanApi/Services/UserService.cs:line 31
2025-12-09 00:35:04.642 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Register (LoanApi) in 40.6846ms
2025-12-09 00:35:04.642 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:35:04.643 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/register - 400 null application/json 41.9542ms
2025-12-09 00:35:17.076 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/register - application/json 198
2025-12-09 00:35:17.077 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:35:17.077 +04:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LoanApi.DTOs.UserRegisterDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 00:35:17.078 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Register (LoanApi) - Validation state: "Valid"
2025-12-09 00:35:17.078 +04:00 [INF] Attempting to register user: user
2025-12-09 00:35:17.140 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__user_UserName_0
2025-12-09 00:35:17.146 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__user_Email_0
2025-12-09 00:35:17.466 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Age], [Email], [FirstName], [IsBlocked], [LastName], [MonthlyIncome], [PasswordHash], [Role], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-12-09 00:35:17.489 +04:00 [INF] User registered successfully: user, ID: 2
2025-12-09 00:35:17.492 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.Register (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 410.9938ms.
2025-12-09 00:35:17.492 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-09 00:35:17.492 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Register (LoanApi) in 415.5529ms
2025-12-09 00:35:17.492 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Register (LoanApi)'
2025-12-09 00:35:17.493 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/register - 200 null text/plain; charset=utf-8 416.1836ms
2025-12-09 00:35:31.433 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/login - application/json 57
2025-12-09 00:35:31.433 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 00:35:31.433 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoanApi.DTOs.UserLoginDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 00:35:31.434 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Login (LoanApi) - Validation state: "Valid"
2025-12-09 00:35:31.434 +04:00 [INF] Login attempt for user: user
2025-12-09 00:35:31.436 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2025-12-09 00:35:31.587 +04:00 [INF] User logged in successfully: user, Role: "User"
2025-12-09 00:35:31.611 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.Login (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.4632ms.
2025-12-09 00:35:31.612 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-09 00:35:31.613 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Login (LoanApi) in 179.8769ms
2025-12-09 00:35:31.613 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 00:35:31.614 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/login - 200 null application/json; charset=utf-8 180.5033ms
2025-12-09 00:39:06.324 +04:00 [INF] Application is shutting down...
2025-12-09 00:39:20.403 +04:00 [INF] User profile is available. Using '/home/gkutubidze/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-09 00:39:20.505 +04:00 [INF] Now listening on: http://localhost:5090
2025-12-09 00:39:20.507 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-09 00:39:20.507 +04:00 [INF] Hosting environment: Development
2025-12-09 00:39:20.507 +04:00 [INF] Content root path: /home/gkutubidze/LoanApi/LoanApi
2025-12-09 00:39:21.120 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2025-12-09 00:39:21.204 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 85.8461ms
2025-12-09 00:39:21.225 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.js - null null
2025-12-09 00:39:21.227 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.js - 200 null application/javascript;charset=utf-8 1.9096ms
2025-12-09 00:39:22.564 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2025-12-09 00:39:22.673 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.935ms
2025-12-09 00:39:38.572 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/login - application/json 57
2025-12-09 00:39:38.576 +04:00 [WRN] Failed to determine the https port for redirect.
2025-12-09 00:39:38.609 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 00:39:38.624 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoanApi.DTOs.UserLoginDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 00:39:38.743 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Login (LoanApi) - Validation state: "Valid"
2025-12-09 00:39:38.746 +04:00 [INF] Login attempt for user: user
2025-12-09 00:39:39.202 +04:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Loan'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-09 00:39:39.203 +04:00 [WRN] No store type was specified for the decimal property 'MonthlyIncome' on entity type 'User'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-09 00:39:39.802 +04:00 [INF] Executed DbCommand (41ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2025-12-09 00:39:40.089 +04:00 [INF] User logged in successfully: user, Role: "User"
2025-12-09 00:39:40.115 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.Login (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1367.7423ms.
2025-12-09 00:39:40.120 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-09 00:39:40.129 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Login (LoanApi) in 1502.5947ms
2025-12-09 00:39:40.130 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 00:39:40.140 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/login - 200 null application/json; charset=utf-8 1568.7042ms
2025-12-09 00:40:06.317 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Loan/my - null null
2025-12-09 00:40:06.355 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.GetMyLoans (LoanApi)'
2025-12-09 00:40:06.360 +04:00 [INF] Route matched with {action = "GetMyLoans", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyLoans() on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-09 00:40:06.361 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.GetMyLoans (LoanApi) - Validation state: "Valid"
2025-12-09 00:40:06.401 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[Currency], [l].[LoanPeriod], [l].[LoanType], [l].[Status], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[UserId] = @__userId_0
2025-12-09 00:40:06.402 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.GetMyLoans (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.6673ms.
2025-12-09 00:40:06.403 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LoanApi.Models.Loan, LoanApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-09 00:40:06.426 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.GetMyLoans (LoanApi) in 66.4463ms
2025-12-09 00:40:06.426 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.GetMyLoans (LoanApi)'
2025-12-09 00:40:06.427 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Loan/my - 200 null application/json; charset=utf-8 109.7501ms
2025-12-09 00:40:34.483 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Loan - application/json 77
2025-12-09 00:40:34.488 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.LoanController.CreateLoan (LoanApi)'
2025-12-09 00:40:34.493 +04:00 [INF] Route matched with {action = "CreateLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateLoan(LoanApi.DTOs.LoanCreateDto) on controller LoanApi.Controllers.LoanController (LoanApi).
2025-12-09 00:40:34.543 +04:00 [INF] Executing action method LoanApi.Controllers.LoanController.CreateLoan (LoanApi) - Validation state: "Valid"
2025-12-09 00:40:34.633 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-12-09 00:40:34.788 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Loans] ([Amount], [Currency], [LoanPeriod], [LoanType], [Status], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-12-09 00:40:34.808 +04:00 [INF] Executed action method LoanApi.Controllers.LoanController.CreateLoan (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 264.3469ms.
2025-12-09 00:40:34.808 +04:00 [INF] Executing OkObjectResult, writing value of type 'LoanApi.Models.Loan'.
2025-12-09 00:40:34.816 +04:00 [INF] Executed action LoanApi.Controllers.LoanController.CreateLoan (LoanApi) in 322.805ms
2025-12-09 00:40:34.816 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.LoanController.CreateLoan (LoanApi)'
2025-12-09 00:40:34.818 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Loan - 400 null application/json 334.8381ms
2025-12-09 01:11:57.992 +04:00 [INF] Application is shutting down...
2025-12-09 12:07:10.106 +04:00 [INF] User profile is available. Using '/home/gkutubidze/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-09 12:07:10.216 +04:00 [INF] Now listening on: http://localhost:5090
2025-12-09 12:07:10.217 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-09 12:07:10.218 +04:00 [INF] Hosting environment: Development
2025-12-09 12:07:10.218 +04:00 [INF] Content root path: /home/gkutubidze/LoanApi/LoanApi
2025-12-09 12:07:14.718 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/ - null null
2025-12-09 12:07:14.751 +04:00 [WRN] Failed to determine the https port for redirect.
2025-12-09 12:07:14.789 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/ - 404 0 null 75.8334ms
2025-12-09 12:07:14.798 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5090/, Response status code: 404
2025-12-09 12:07:17.672 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2025-12-09 12:07:17.734 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 62.2616ms
2025-12-09 12:07:17.863 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.js - null null
2025-12-09 12:07:17.865 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.js - 200 null application/javascript;charset=utf-8 1.8852ms
2025-12-09 12:07:19.290 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2025-12-09 12:07:19.406 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.8924ms
2025-12-09 12:07:35.236 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/login - application/json 56
2025-12-09 12:07:35.241 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 12:07:35.257 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoanApi.DTOs.UserLoginDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 12:07:35.392 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Login (LoanApi) - Validation state: "Valid"
2025-12-09 12:07:35.395 +04:00 [INF] Login attempt for user: user
2025-12-09 12:07:35.853 +04:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Loan'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-09 12:07:35.853 +04:00 [WRN] No store type was specified for the decimal property 'MonthlyIncome' on entity type 'User'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-09 12:07:36.465 +04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2025-12-09 12:07:36.743 +04:00 [WRN] Login failed: Invalid password for user - user
2025-12-09 12:07:36.743 +04:00 [ERR] Error during login for user: user
System.Exception: არასწორი username ან პაროლი
   at LoanApi.Services.UserService.LoginAsync(String username, String password) in /home/gkutubidze/LoanApi/LoanApi/Services/UserService.cs:line 79
2025-12-09 12:07:36.756 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Login (LoanApi) in 1494.5687ms
2025-12-09 12:07:36.756 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 12:07:36.772 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/login - 400 null application/json 1535.9792ms
2025-12-09 12:08:26.055 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/User/login - application/json 57
2025-12-09 12:08:26.058 +04:00 [INF] Executing endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 12:08:26.058 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoanApi.DTOs.UserLoginDto) on controller LoanApi.Controllers.UserController (LoanApi).
2025-12-09 12:08:26.060 +04:00 [INF] Executing action method LoanApi.Controllers.UserController.Login (LoanApi) - Validation state: "Valid"
2025-12-09 12:08:26.060 +04:00 [INF] Login attempt for user: user
2025-12-09 12:08:26.078 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[FirstName], [u].[IsBlocked], [u].[LastName], [u].[MonthlyIncome], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2025-12-09 12:08:26.283 +04:00 [INF] User logged in successfully: user, Role: "User"
2025-12-09 12:08:26.312 +04:00 [INF] Executed action method LoanApi.Controllers.UserController.Login (LoanApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 249.0155ms.
2025-12-09 12:08:26.315 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-09 12:08:26.319 +04:00 [INF] Executed action LoanApi.Controllers.UserController.Login (LoanApi) in 260.3129ms
2025-12-09 12:08:26.319 +04:00 [INF] Executed endpoint 'LoanApi.Controllers.UserController.Login (LoanApi)'
2025-12-09 12:08:26.319 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/User/login - 200 null application/json; charset=utf-8 264.5875ms
2025-12-09 12:58:27.894 +04:00 [INF] Application is shutting down...
2025-12-09 13:04:46.667 +04:00 [INF] User profile is available. Using '/home/gkutubidze/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-09 13:04:46.766 +04:00 [INF] Now listening on: http://localhost:5090
2025-12-09 13:04:46.768 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-09 13:04:46.768 +04:00 [INF] Hosting environment: Development
2025-12-09 13:04:46.768 +04:00 [INF] Content root path: /home/gkutubidze/LoanApi/LoanApi
2025-12-09 13:04:48.410 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2025-12-09 13:04:48.496 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 87.2068ms
2025-12-09 13:04:48.513 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.js - null null
2025-12-09 13:04:48.515 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.js - 200 null application/javascript;charset=utf-8 1.585ms
2025-12-09 13:04:49.946 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2025-12-09 13:04:50.049 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.6285ms
